{"version":3,"sources":["context.ts","components/Article/index.tsx","common/hooks/useAxios.ts","common/hooks/useGetParam.ts","common/hooks/useGetCtxt.ts","components/Articles/index.tsx","components/Card/index.tsx","components/ArticleList/index.tsx","components/CtgList/index.tsx","components/TagList/index.tsx","components/Layout/index.tsx","components/main/Main.tsx","components/Head/Head.tsx","components/category/index.tsx","components/tags/index.tsx","components/write/Write.tsx","components/gallary/index.tsx","components/ArticleInfo/index.tsx","App.tsx","components/toast/index.tsx","serviceWorker.ts","common/global/store.ts","index.tsx"],"names":["context","createContext","withRouter","props","data","useContext","img","useMemo","image","info","host","cata","category","useCallback","url","id","axios","get","then","res","console","log","className","src","alt","onClick","jump","category_name","title","reducer","state","action","val","type","useAxios","initState","fn","useReducer","dispatch","useEffect","cancel","cancelToken","CancelToken","c","key","match","params","Aricles","useState","setUrl","list","count","map","t","defaultPageSize","onChange","page","defaultCurrent","total","connect","x","dayjs","y","duration","diff","articleCount","ctgCount","tagsCount","setList","format","n","sortedArticle","time","tags","ind","tag_name","useGetParam","ctxt","useGetCtxt","ctgList","noLimit","slice","inCtg","location","pathname","history","push","curCategory","filter","card","e","preventDefault","href","style","visibility","inTags","tagsList","inArticle","startsWith","width","React","Children","children","child","text","to","activeClassName","curTag","articles","length","Option","TextArea","initalSate","content","ctg","every","add_tag","add_ctg","tag","setTag","setCtg","setImg","imgRef","useRef","change","target","value","addTag","fd","FormData","append","method","split","onChange1","name","onBlur","onSearch","placeholder","tagId","join","ref","images","current","files","height","display","showSearch","optionFilterProp","filterOption","input","option","toLowerCase","indexOf","color","closable","onClose","closeTag","source","Gallary","imgs","setImgs","str","ipt","document","createElement","body","appendChild","select","execCommand","removeChild","showToast","copy","ArticleInfo","showTitle","trim","getArticleList","a","getTagsList","getCtgList","routes","path","cmp","Main","Catagory","Tags","Write","component","exact","from","Toast","timer","show","msg","bind","clearTimeout","this","setState","stopTimer","setTimeout","ReactDOM","createPortal","Component","Boolean","window","hostname","initalState","articleList","createStore","sorted","sort","b","applyMiddleware","thunk","isLeapYear","con","globalData","render","store","Provider","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.553f47cf.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const context = createContext<any>({})\n","import React, { useContext, useMemo, useCallback } from 'react'\nimport { context } from '@/context'\nimport { withRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport './index.less'\n\nfunction Article(props: any) {\n  const data: any = useContext(context)\n  const isDev: boolean = process.env.NODE_ENV === 'development'\n  const img = useMemo(() => {\n    let image = props.info.img\n    return image ? image : `${data.host}/files/download?name=1.jpg`\n  }, [data.host, props.info.img])\n\n  const cata = useMemo(() => {\n    return props.info.category\n  }, [props.info])\n\n  const delAction = useCallback(\n    () => {\n      const url = `${data.host}/articles/delete/${props.info.id}`\n      axios.get(url).then((res) => {\n        console.log(res.data)\n      })\n    },\n    [data.host, props.info.id],\n  )\n\n  return <div className=\"article-wrap card-bg\">\n    <img src={img} alt=\"\" />\n    <div className=\"content-wrap\">\n      <div className=\"notice mb-7\">\n        <span>1天前</span>\n        <span onClick={() => { data.jump(props, cata && cata.id, 'catagory') }} className=\"link\">{cata && cata.category_name}</span>\n        {\n          isDev ? \n          <>\n            <span className=\"link\" onClick={() => {data.jump(props, props.info.id, 'write')}}>编辑{props.info.id}</span>\n            <span className=\"link\" onClick={() => {delAction()}}>删除</span>\n          </>\n          :''\n        }\n        \n      </div>\n      <h1 className=\"title link\" onClick={() => { data.jump(props, props.info.id) }}>\n        {props.info.title}\n      </h1>\n    </div>\n  </div>\n}\n\nexport default withRouter(Article)","/* eslint-disable */\n\nimport { useState, useEffect, useReducer } from 'react'\nimport axios from 'axios'\n\nfunction reducer(state: any, action: any) {\n  const { val } = action\n  switch (action.type) {\n    case 'changeInfo':\n      console.log('dispatch change info', val)\n      return { ...val }\n    default:\n      return state\n  }\n}\n\nexport default function useAxios(url: string, initState: any = {}, fn:any = () => {}) {\n  const [info, dispatch] = useReducer(reducer, initState)\n  useEffect(() => {\n    \n    let cancel: any = null\n    axios.get(url, {\n      cancelToken: new axios.CancelToken(c => {\n        cancel = c\n      })\n    }).then((res: any) => {\n      res = res.data\n      dispatch({\n        type: 'changeInfo',\n        val: res\n      })\n      fn({...res})\n      console.log('url changed res',url, res)\n    })\n    return () => {\n      cancel()\n    }\n  }, [url])\n  console.log('url changed', info)\n  return info\n}","import { useMemo } from 'react'\n\nexport default function (props: any, key: string = 'id') {\n  const data = useMemo(() => props.match.params[key], [key, props.match.params])\n  return data\n}","import { useContext } from 'react'\nimport { context } from '@/context'\n\nexport default function () {\n  const ctxt = useContext(context)\n  return ctxt\n}","import React, { useState, useEffect } from 'react'\nimport Article from '@c/Article'\nimport { Pagination } from 'antd'\nimport { useAxios } from '@/common/hooks'\n\nexport default function Aricles(props: any) {\n  const [url, setUrl] = useState<string>(props.url)\n\n  useEffect(() => {\n    setUrl(props.url)\n  }, [props.url])\n\n\n  let { list, count } = useAxios(url, { list: [], count: 0 })\n\n  function onChange(page: number) {\n    setUrl((url: string) => `${url}?page=${page}`)\n  }\n  \n  return <>\n    {\n      list.map((t: any) => {\n        return <Article info={t} key={t.id} />\n      })\n    }\n    <div className=\"pag-wraper\">\n      <Pagination\n        defaultPageSize={10}\n        onChange={onChange}\n        defaultCurrent={1}\n        total={count || 11}\n      />\n    </div>\n  </>\n}\n","import React, { useContext } from 'react'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport './index.less'\nimport dayjs from 'dayjs'\n\nfunction Card(props: any) {\n  const data: any = useContext(context)\n  let x = dayjs()\n  let y = dayjs(1598195948672)\n\n  console.log('dayjs', dayjs.duration(x.diff(y)))\n\n  return <div className=\"card-content card-bg\">\n    <img src={`${data.host}/files/download?name=1.jpg`} alt=\"\" />\n    <span className=\"name\">凉城</span>\n    <span>不负初心，方得始终</span>\n    <nav className=\"level\">\n      <div className=\"level-item link\" onClick={() => { data.jump(props, '', 'index') }}>\n        <p className=\"heading\">\n          文章\n        </p>\n        <p className=\"title\">\n          {props.articleCount}\n        </p>\n      </div>\n      <div className=\"level-item link\" onClick={() => { data.jump(props, 0, 'catagory') }}>\n        <p className=\"heading\">\n          分类\n        </p>\n        <p className=\"title\">\n          {props.ctgCount}\n        </p>\n      </div>\n      <div className=\"level-item link\" onClick={() => { data.jump(props, 0, 'tags') }}>\n        <p className=\"heading\">\n          标签\n        </p>\n        <p className=\"title\">\n          {props.tagsCount}\n        </p>\n      </div>\n\n    </nav>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(Card))","import React, { useContext, useState, useEffect, useCallback } from 'react'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport dayjs from 'dayjs'\nimport './index.less'\n\nfunction ArticleList(props: any) {\n  const data: any = useContext(context)\n\n  const [list, setList] = useState<any[]>([])\n\n  const format = useCallback((n: string | number) => {\n    n = +n\n    return dayjs(n).format('YYYY-MM-DD HH:mm:ss')\n  }, [])\n\n  useEffect(() => {\n    setList(props.sortedArticle)\n  }, [props.sortedArticle])\n\n  return <div className=\"list-wrap card-bg\">\n    <div className=\"notice mb-10\">\n      最新文章\n    </div>\n    <div>\n      {\n        list.map(t => <div className=\"item-wrap\" key={t.id}>\n          <img src={t.img || `${data.host}/files/download?name=1.jpg`} alt={t.title} />\n          <div className=\"item-right\">\n            <div className=\"date notice\">{format(t.time)}</div>\n            <div className=\"title link\" onClick={() => { data.jump(props, t.id) }}>{t.title}</div>\n            <div className=\"tag-wrap\">\n              {\n                t.tags.map((t: any, ind: number) =>\n                  <div className=\"tag notice link\" key={ind} onClick={() => { data.jump(props, t.id, 'tags') }}>\n                    {t.tag_name}\n                  </div>)\n              }\n            </div>\n          </div>\n        </div>)\n      }\n    </div>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(ArticleList))","import React, { useMemo } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { useGetParam, useAxios, useGetCtxt } from '@/common/hooks'\nimport Articles from '@c/Articles'\nimport './index.less'\n\nfunction CtgList(props: any) {\n  const id = useGetParam(props) || 0\n  const ctxt = useGetCtxt()\n  let { list: articleList, count } = useAxios(`${ctxt.host}/category/articles/${id}`)\n  const list = useMemo(() => {\n    let { ctgList } = props\n    if (props.noLimit) {\n      return ctgList\n    }\n    return ctgList.slice(0, 7)\n  }, [props])\n\n  const inCtg = useMemo(() => {\n    return props.location.pathname === '/catagory/0'\n  }, [props.location.pathname])\n\n  function jump(id: number = 0) {\n    console.log('jump', '/catagory/' + id, props.location.pathname)\n    if (props.location.pathname !== '/catagory/' + id) {\n      props.history.push('/catagory/' + id)\n    }\n  }\n\n  const curCategory = useMemo(() => {\n    const cur = list.filter((t: any) => +t.id === +id)\n    return cur[0] || {}\n  }, [id, list])\n  console.log(props.card, curCategory, props.card || curCategory)\n  return <div className=\"ctg-wrap card-bg\">\n    {\n      props.card || !curCategory.category_name ?\n        <>\n          <div className=\"notice mb-10 card-head\">\n            <span>分类</span><a onClick={(e) => { e.preventDefault(); jump() }} href=\"890\" style={{ visibility: inCtg ? 'hidden' : 'visible' }}>查看更多</a>\n          </div>\n          <ul>\n            {\n              list.map((t: any) => <li className=\"item-wrap\" key={t.id} onClick={() => jump(t.id)}>\n                <span>{t.category_name}</span>\n                <span>{t.count}</span>\n              </li>)\n            }\n          </ul>\n        </>\n        :\n        <>\n          <div>当前位置: <span className=\"link\" onClick={() => { props.history.push('/catagory/0') }}>分类</span> / {curCategory.category_name}</div>\n          <Articles url={`${ctxt.host}/category/articles/${id}`} />\n        </>\n\n    }\n\n  </div>\n}\n\nexport default connect((state, props) => ({ ...state, ...props }))(withRouter(CtgList))","import React, { useMemo } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport './index.less'\n\nfunction TagList(props: any) {\n  const inTags = useMemo(() => {\n    return props.location.pathname === '/tags/0'\n  }, [props.location.pathname])\n\n  function jump(id = 0) {\n    if (props.location.pathname === '/tags/' + id) return\n\n    props.history.push('/tags/' + id)\n  }\n\n  return <div className=\"tag-wrap card-bg\">\n    <div className=\"notice mb-10 card-head\">\n      <span>标签</span>\n      <a onClick={(e) => { e.preventDefault(); jump() }} href=\"123\" style={{ visibility: inTags ? 'hidden' : 'visible' }}>查看更多</a>\n    </div>\n    <ul>\n      {\n        props.tagsList.map((t: any) => <li className=\"item-wrap\" key={t.id}>\n          <a onClick={(e) => { e.preventDefault(); jump(t.id) }} href=\"123\">{t.tag_name}</a>\n        </li>)\n      }\n    </ul>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(TagList))","import React, {useMemo} from 'react'\nimport { connect } from 'react-redux'\nimport Card from '@c/Card'\nimport ArticleList from '@c/ArticleList'\nimport CtgList from '@/components/CtgList'\nimport TagList from '@/components/TagList'\nimport { withRouter } from 'react-router-dom'\n\nfunction Layout(props: any) {\n  const inArticle = useMemo(() => {\n    return props.location.pathname.startsWith('/article/')\n  }, [props.location.pathname])\n  return <div className='app main-wrapp'>\n    <div className=\"flex-left\">\n      <Card />\n      <CtgList card={true} />\n      <TagList />\n    </div>\n    <div className=\"flex-center\" style={{width: inArticle ? '75%' : '50%'}}>\n      {\n        React.Children.map(props.children, (child: any) => <>{child}</>)\n      }\n    </div>\n    {\n      inArticle ? '' :\n      <div className=\"flex-right\">\n        <ArticleList />\n      </div>\n    }\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(Layout))","import React from 'react'\nimport { connect } from 'react-redux'\nimport Articles from '@c/Articles'\nimport Layout from '@c/Layout'\nimport { useGetCtxt } from '@/common/hooks'\n\nfunction Main() {\n  const ctxt = useGetCtxt()\n\n  return <Layout>\n    <Articles url={`${ctxt.host}/articles/list`} />\n  </Layout>\n}\n\nexport default connect(state => ({ ...state }))(Main)","import React, { ReactChild, useState } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport './Head.less'\n\nexport default function (props: { children: ReactChild }) {\n  let links = [{\n    text: '主页',\n    url: '/index'\n  },\n  {\n    text: '分类',\n    url: '/catagory/0'\n  },\n  {\n    text: '标签',\n    url: '/tags/0'\n  }\n  ]\n\n  if (process.env.NODE_ENV === 'development') {\n    links.push({\n      text: '写文章',\n      url: '/write/0'\n    }, {\n      text: '图库',\n      url: '/pic'\n    })\n  }\n\n  return <nav className=\"app-header\">\n    <div className=\"app app-inner-header\">\n      {\n        React.Children.map(props.children, child => {\n          return <div>{child}</div>\n        })\n      }\n      <div className=\"links\">\n        {\n          links.map(({ url, text }, ind) => {\n            return <NavLink to={url} key={ind} activeClassName=\"active\">{text}</NavLink>\n          })\n        }\n      </div>\n    </div>\n  </nav>\n}","import React from 'react'\nimport Layout from '@c/Layout'\nimport CtgList from '@c/CtgList'\nimport { connect } from 'react-redux'\n\nfunction Category(props: any) {\n\n  return <Layout>\n    <CtgList />\n  </Layout>\n}\n\nexport default connect((state, props) => ({ ...state, ...props }))(Category)","import React, { useMemo } from 'react'\nimport Layout from '@c/Layout'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { useGetParam, useAxios, useGetCtxt } from '@/common/hooks'\nimport Articles from '@c/Articles'\n\nfunction Tags(props: any) {\n  const id = useGetParam(props) || 0\n  \n  const ctxt = useGetCtxt()\n  const { list } = useAxios(`${ctxt.host}/tags/articles/${id}`, {list: []})\n  function jump(id = 0) {\n    if (props.location.pathname === '/tags/' + id) return\n\n    props.history.push('/tags/' + id)\n  }\n\n  const curTag = useMemo(() => {\n    let tag = props.tagsList.filter((t: any) => +t.id === +id)\n    return tag[0]\n  }, [id, props.tagsList])\n\n  return <Layout>\n    <div className=\"ctg-wrap card-bg\">\n      {\n        curTag ?\n          <div>当前位置: <span className=\"link\" onClick={() => { props.history.push('/tags/0') }}>标签</span> / {curTag.tag_name}</div>\n          :\n          <>\n            <div className=\"notice mb-10\">\n              标签\n            </div>\n            <ul>\n              {\n                props.tagsList.map((t: any) => <li className=\"item-wrap\"\n                  key={t.id} onClick={() => { jump(t.id) }}\n                >\n                  <span>{t.tag_name}</span>\n                  <span>{t.articles.length}</span>\n                </li>)\n              }\n            </ul>\n          </>\n      }\n\n      {\n        id && list && list.length ? <Articles url={`${ctxt.host}/tags/articles/${id}`} /> : ''\n      }\n    </div>\n  </Layout>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(Tags))","import React, { useState, useReducer, useCallback, useRef, useContext, useMemo } from 'react'\nimport { Button, Input, Select, Tag } from 'antd'\nimport axios from 'axios'\nimport './Write.less'\nimport { useAxios, useGetCtxt } from '@/common/hooks'\nimport MarkDown from 'react-markdown'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nconst { Option } = Select\n\nconst { TextArea } = Input\n\ninterface Act {\n  type: string;\n  val?: any\n}\n\nconst initalSate = { title: '', content: '', tags: [], img: '', ctg: {} }\n\nfunction reducer(state: any, action: Act) {\n  let { tags } = state\n  const { val } = action\n  switch (action.type) {\n    case 'changeTitle':\n      return { ...state, title: val }\n    case 'changeContent':\n      return { ...state, content: val }\n    case 'ADD_TAG':\n      tags.every((t: any) => t.id !== val.id) && tags.push(val)\n      return {\n        ...state,\n        tags: [...tags]\n      }\n    case 'REMOVE_TAG':\n      tags = tags.filter((t: any) => t.id !== val)\n      return {\n        ...state,\n        tags: [...tags]\n      }\n    case 'CHANGE_IMG':\n      return {\n        ...state,\n        img: val\n      }\n    case 'GET_CTG':\n      return {\n        ...state,\n        ctg: val\n      }\n    case 'REMOVE_CTG':\n      return {\n        ...state,\n        ctg: ''\n      }\n    default:\n      return state\n  }\n}\n\nfunction Write(props: any) {\n\n  const [tag, setTag] = useState('')\n  const [ctg, setCtg] = useState('')\n  const [img, setImg] = useState('')\n  const data = useContext(context)\n  const imgRef = useRef(null)\n\n  const ctxt = useGetCtxt()\n  const id = useMemo(() => props.match.params.id, [props.match.params.id])\n  let info = useAxios(`${ctxt.host}/articles/${id}`, { content: '', title: '', time: 0, tags: [], category: {} })\n\n  const [state, dispatch] = useReducer(reducer, initalSate)\n  \n  function change(e: any, type = 'changeTitle') {\n    dispatch({\n      type,\n      val: e.target.value\n    })\n  }\n\n  function uploadImg() {\n    const imgDom = imgRef.current as unknown\n    const images: any = (imgDom as HTMLInputElement).files\n    if(!images.length) return\n    const fd = new FormData()\n    fd.append('image', images[0])\n    fd.append('msg', 'abcd')\n    axios(\n      {\n        url: `${data.host}/upload`,\n        method: 'post',\n        data: fd\n      }\n    ).then(res => {\n      console.log(res)\n      const url = data.host + res.data.data\n      dispatch({\n        type: 'CHANGE_IMG',\n        val: url\n      })\n    })\n  }\n\n  function addTag(type = 'tags') {\n    if ((type === 'tags' && !tag) || (type === 'category' && !ctg)) return\n    const url = `${data.host}/${type}/add`\n    const fd = new FormData()\n    if (type === 'tags') fd.append('name', tag)\n    if (type === 'category') fd.append('name', ctg)\n    axios({\n      url,\n      method: 'post',\n      data: fd\n    }).then(({ data }) => {\n      console.log(data)\n      if (type === 'tags') {\n        props.add_tag(data)\n      }\n      if (type === 'category') {\n        props.add_ctg(data)\n      }\n    })\n  }\n\n  function upload() {\n    console.log({info})\n    if ((!state.title || !state.content) && (!info.title || !info.content) ) {\n\n      return\n    }\n    \n    const url = info ? `${data.host}/articles/update/${id}` : `${data.host}/articles/send`\n    const fd = new FormData()\n    fd.append('title', state.title || info.title)\n    fd.append('content', state.content || info.content)\n    let tags = state.tags.length ? state.tags : info.tags\n    const tagId = tags.map((t: any) => t.id)\n    fd.append('tag_id', tagId.join())\n    fd.append('img', state.img || info.img)\n    fd.append('category', state.ctg.id || info.category.id)\n    axios({\n      url,\n      method: 'post',\n      data: fd\n    }).then(res => {\n      console.log(res)\n    })\n  }\n\n  const onChange = useCallback((value) => {\n    let tag_name = value.split('$_$')[0]\n    const id = value.split('$_$')[1]\n    dispatch({\n      type: 'ADD_TAG',\n      val: {\n        tag_name,\n        id\n      }\n    })\n  }, [])\n\n  const onChange1 = useCallback((value) => {\n    let tag_name = value.split('$_$')[0]\n    dispatch({\n      type: 'GET_CTG',\n      val: {\n        name: tag_name,\n        id: value.split('$_$')[1]\n      }\n    })\n  }, [])\n\n  function closeTag(id: number) {\n    dispatch({\n      type: 'REMOVE_TAG',\n      val: id\n    })\n  }\n\n  function closeCtg() {\n    dispatch({\n      type: 'REMOVE_CTG',\n    })\n  }\n\n  const onBlur = useCallback(() => {\n    console.log('blur')\n  }, [])\n\n  const onSearch = useCallback((val) => {\n    console.log('search', val)\n  }, [])\n\n  return <div className=\"write-wrap\">\n    <div className=\"flex\">\n      <Input value={state.title || info.title} onChange={(e) => change(e)} placeholder='文章标题' />\n      <Button type=\"primary\" onClick={upload}>{info ? '更新' : '上传'}文章</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={tag} onChange={(e) => { setTag(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => { addTag() }}>新增标签</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={ctg} onChange={(e) => { setCtg(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => { addTag('category') }}>新增分类</Button>\n    </div>\n    <div className=\"flex\">\n      <input type=\"file\" ref={imgRef} />\n      <Button type=\"primary\" onClick={uploadImg}>上传图片</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={img} onChange={(e) => { setImg(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => {\n        dispatch({\n          type: 'CHANGE_IMG',\n          val: img\n        })\n      }}>使用已有图片</Button>\n    </div>\n    <img src={state.img || info.img} alt=\"封面图片\" style={{ height: state.img || info.img ? '100px' : '0px', width: 'auto', visibility: state.img || info.img ? 'visible' : 'hidden', display: 'block' }} />\n    <Select\n      showSearch\n      style={{ width: 200 }}\n      placeholder=\"Select a tag\"\n      optionFilterProp=\"children\"\n      onChange={onChange}\n      onBlur={onBlur}\n      onSearch={onSearch}\n      filterOption={(input, option) =>\n        (option as any).children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n      }\n    >\n      {\n        props.tagsList.map((t: any) => <Option value={`${t.tag_name}$_$${t.id}`} key={t.id}>{t.tag_name}</Option>)\n      }\n    </Select>\n    {\n      state.tags.map((t: any) => <Tag color=\"#2db7f5\" key={t.id} closable onClose={() => { closeTag(t.id) }}>\n        {t.tag_name}\n      </Tag>)\n    }\n    <br />\n    <Select\n      showSearch\n      style={{ width: 200 }}\n      placeholder=\"Select a 分类\"\n      optionFilterProp=\"children\"\n      onChange={onChange1}\n      onBlur={onBlur}\n      onSearch={onSearch}\n      filterOption={(input, option) =>\n        (option as any).children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n      }\n    >\n      {\n        props.ctgList.map((t: any) => <Option value={`${t.category_name}$_$${t.id}`} key={t.id}>{t.category_name}</Option>)\n      }\n    </Select>\n    {\n      state.ctg.name ?\n        <Tag color=\"#2db7f5\" closable onClose={() => { closeCtg() }}>\n          {state.ctg.name || (info.category && info.category.category_name)}\n        </Tag> : ''\n    }\n    <br />\n    <div className=\"flex content\">\n      <div className=\"inner-content\">\n        <TextArea value={state.content || info.content} onChange={(e) => change(e, 'changeContent')} placeholder='文章内容' />\n      </div>\n      <div className=\"inner-content\">\n        <MarkDown source={state.content || info.content} />\n      </div>\n    </div>\n\n  </div>\n}\n\nexport default connect(state => ({ ...state }), {\n  add_tag(val: any) {\n    return { type: 'ADD_TAG', val }\n  },\n  add_ctg(val: any) {\n    return { type: 'ADD_CTG', val }\n  }\n})(withRouter(Write))","import React, { useState, useEffect, useContext } from 'react'\nimport { context } from '@/context'\nimport axios from 'axios'\nimport './index.less'\n\nexport default function Gallary() {\n  const ctxt = useContext(context)\n  const [imgs, setImgs] = useState([])\n  useEffect(() => {\n    axios.get(`${ctxt.host}/files/ls`).then(({ data }) => {\n      setImgs(data.list.map((t: any) => ctxt.host + t.name))\n    })\n  }, [ctxt.host])\n\n  function copy(str: string) {\n    const ipt = document.createElement('input')\n    ipt.value = str\n    document.body.appendChild(ipt)\n    ipt.select()\n    document.execCommand('copy')\n    document.body.removeChild(ipt)\n    ctxt.showToast('拷贝图片地址成功')\n  }\n\n  return <div className=\"gallary-wrap\">\n    <h1>图库</h1>\n    <div className=\"inner-wrap\">\n      {\n        imgs.map((t: string, ind: number) => <div key={ind} className=\"img-wrap\">\n          <img src={t} alt={t} />\n          <br />\n          <span onClick={() => { copy(t) }}>{t}</span>\n        </div>)\n      }\n    </div>\n  </div>\n}","import React, { useContext, useMemo } from 'react'\nimport './index.less'\nimport { context } from '@/context'\nimport Layout from '@c/Layout'\nimport axios from 'axios'\nimport MarkDown from 'react-markdown'\nimport useAxios from '@/common/hooks/useAxios'\n\nfunction ArticleInfo(props: any) {\n  const ctxt = useContext(context)\n\n  const id = useMemo(() => props.match.params.id, [props.match.params.id])\n  const info = useAxios(`${ctxt.host}/articles/${id}`, { content: '', title: '', time: 0, tags: [], category: {} })\n\n  const showTitle = useMemo(() => {\n    let { content } = info\n    return !content.trim().match(/^#\\s/)\n  }, [info])\n\n  return <Layout>\n    <div className=\"article-info-wrap card-bg\">\n      <h1 style={{ display: showTitle ? 'block' : 'none' }}>{info.title}</h1>\n      <MarkDown source={info.content} />\n    </div>\n  </Layout>\n}\n\nexport default ArticleInfo\n","import React, { useContext, useEffect, useMemo } from 'react';\nimport Main from '@c/main/Main'\nimport Head from '@c/Head/Head'\nimport Catagory from '@c/category/index'\nimport Tags from '@c/tags/index'\nimport Write from '@c/write/Write'\nimport Gallary from '@c/gallary'\nimport ArticleInfo from '@c/ArticleInfo'\nimport { HashRouter, Route, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport { context } from '@/context'\nimport './App.less';\nimport '@/Main.less'\n\nfunction App(props: any) {\n  const ctxt = useContext(context)\n  const routes = useMemo(() => {\n    return [\n      { path: '/index', cmp: Main },\n      { path: '/catagory/:id', cmp: Catagory },\n      { path: '/tags/:id', cmp: Tags },\n      { path: '/write/:id', cmp: Write },\n      { path: '/pic', cmp: Gallary },\n      { path: '/article/:id', cmp: ArticleInfo }\n    ]\n  }, [])\n\n  useEffect(() => {\n    props.getArticleList(ctxt.host)\n    props.getTagsList(ctxt.host)\n    props.getCtgList(ctxt.host)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <HashRouter>\n      <Head>\n        <span></span>\n      </Head>\n      <div className='app'>\n        {\n          routes.map((t: any, ind: number) => <Route path={t.path} component={t.cmp} key={ind} />)\n        }\n        <Redirect exact from='/write' to='/write/0' />\n        <Redirect exact from='/' to='/index' />\n        \n      </div>\n    </HashRouter>\n  );\n}\n\nexport default connect(\n  (state) => ({ ...state }),\n  {\n    getArticleList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/articles`)\n        dispatch({\n          type: 'GET_ARTICLE_LIST',\n          val: data\n        })\n      }\n    },\n    getTagsList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/tags`)\n        dispatch({\n          type: 'GET_TAGS_LIST',\n          val: data\n        })\n      }\n    },\n    getCtgList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/category/count`)\n        dispatch({\n          type: 'GET_CTG_LIST',\n          val: data\n        })\n      }\n    }\n  }\n)(App);\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.less'\n\n//  function (props: any) {\n//   let timer = useRef<any>(null)\n\n//   const [show, setShow] = useState(props.show)\n//   console.log('props.show', props.show)\n//   useEffect(() => {\n//     console.log('show', show)\n//     if (show) {\n//       timer.current = setTimeout(() => {\n//         setShow(false)\n//       }, 2000)\n//     }\n//   }, [show])\n\n//   useEffect(() => {\n//     clearTimeout(timer.current)\n//     timer.current = setTimeout(() => {\n//       setShow(false)\n//     }, 2000)\n//   }, [props.msg])\n\n//   return ReactDOM.createPortal(<div\n//     className=\"toast\" style={{ display: show ? 'block' : 'none' }}\n//   >\n//     {props.msg}\n//   </div>, document.body)\n// }\n\nexport default class Toast extends React.Component<any, any> {\n\n  private timer: any = null\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      show: false,\n      msg: ''\n    }\n    // @ts-ignore \n    Toast.showToast = this.show.bind(this)\n  }\n\n  public show(msg: string) {\n    clearTimeout(this.timer)\n\n    this.setState({\n      show: true,\n      msg\n    }, () => {\n      this.stopTimer()\n    })\n  }\n\n  private stopTimer() {\n    this.timer = setTimeout(() => {\n      this.setState({\n        show: false\n      })\n    }, 2000)\n  }\n\n  render() {\n    return ReactDOM.createPortal(<div\n      className=\"toast\" style={{ display: this.state.show ? 'block' : 'none' }}\n    >\n      {this.state.msg}\n    </div>, document.body)\n  }\n}\n\n/**\n * {\n      React.Children.map(props.children, child => <div>\n          {child}\n        </div>)\n    }\n */","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\ninterface Act {\n  type: string;\n  val?: any\n}\n\nconst initalState: any = {\n  count: 1,\n  articleCount: 0,\n  tagsCount: 0,\n  ctgCount: 0,\n  articleList: [],\n  tagsList: [],\n  sortedArticle: [],\n  ctgList: []\n}\n\nfunction reducer(state = initalState, action: Act) {\n  let { type, val } = action\n  let { tagsList, ctgList } = state\n  switch (type) {\n    case 'ADD':\n      return {\n        ...state,\n        count: state.count + 1\n      };\n    case 'GET_ARTICLE_LIST':\n      let sorted = val.list.sort((b: any, a: any) => a.time - b.time).slice(0, 5)\n      return {\n        ...state,\n        articleCount: val.count,\n        articleList: val.list,\n        sortedArticle: sorted,\n      }\n    case 'GET_TAGS_LIST':\n      return {\n        ...state,\n        tagsCount: val.count,\n        tagsList: val.list\n      }\n    case 'ADD_TAG':\n      tagsList.push(val)\n      console.log({ tagsList })\n      return {\n        ...state,\n        tagsList: [...tagsList]\n      }\n    case 'GET_CTG_LIST':\n      return {\n        ...state,\n        ctgCount: val.count,\n        ctgList: val.list\n      }\n    case 'ADD_CTG':\n      ctgList.push(val)\n      console.log({ ctgList })\n      return {\n        ...state,\n        ctgList: [...ctgList]\n      }\n    default:\n      return state\n  }\n}\n\nexport default createStore(reducer, applyMiddleware(thunk))","import React, { ReactComponentElement, ReactElement, ReactInstance, ReactNode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Toast from '@c/toast'\nimport * as serviceWorker from './serviceWorker';\nimport { context } from './context'\nimport * as dayjs from 'dayjs'\nimport isLeapYear from 'dayjs/plugin/isLeapYear' // 导入插件\nimport 'dayjs/locale/zh-cn' // 导入本地化语言\nimport duration from 'dayjs/plugin/duration'\nimport { Provider } from 'react-redux'\nimport store from '@/common/global/store'\n\ndayjs.extend(duration)\n\ndayjs.extend(isLeapYear) // 使用插件\ndayjs.locale('zh-cn') // 使用本地化语言\n\nconst con = document.createElement('div')\ncon.id = 'cmp-container'\ndocument.body.appendChild(con)\n\nconst host = process.env.NODE_ENV === 'development' ? 'http://localhost:8090' : 'http://39.96.31.138'\nconst globalData = {\n  host,\n  dayjs,\n  showToast(msg: string) {\n    const cmp: Partial<{ showToast: any } & typeof Toast> = Toast\n    cmp.showToast(msg)\n  },\n  jump(props: any, id: number | string, type: string = 'article') {\n    props.history.push(`/${type}${id !== '' ? '/' + id : ''}`)\n  }\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <context.Provider value={globalData} >\n      <App />\n    </context.Provider>\n    <Toast />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}