{"version":3,"sources":["context.ts","components/Article/index.tsx","components/Articles/index.tsx","components/Card/index.tsx","components/ArticleList/index.tsx","components/CtgList/index.tsx","components/TagList/index.tsx","components/Layout/index.tsx","components/main/Main.tsx","components/Head/Head.tsx","components/category/index.tsx","components/tags/index.tsx","components/write/Write.tsx","components/gallary/index.tsx","App.tsx","components/toast/index.tsx","serviceWorker.ts","common/global/store.ts","index.tsx"],"names":["context","createContext","props","data","useContext","img","useMemo","image","info","host","className","src","alt","category","category_name","title","Aricles","list","map","t","key","id","connect","state","add","type","asyncAdd","dispatch","getState","setTimeout","x","dayjs","y","console","log","duration","diff","onClick","count","articleCount","ctgCount","tagsCount","useState","setList","format","useCallback","n","useEffect","sortedArticle","time","tags","ind","tag_name","withRouter","ctgList","noLimit","slice","inCtg","location","pathname","history","push","style","visibility","inTags","tagsList","React","Children","children","child","articleList","text","url","to","activeClassName","length","Option","TextArea","initalSate","content","ctg","reducer","action","val","every","filter","add_tag","add_ctg","useReducer","tag","setTag","setCtg","setImg","imgRef","useRef","change","e","target","value","addTag","fd","FormData","append","axios","method","then","onChange","split","onChange1","name","onBlur","onSearch","placeholder","tagId","join","res","ref","images","current","files","height","width","display","showSearch","optionFilterProp","filterOption","input","option","toLowerCase","indexOf","color","closable","onClose","source","Gallary","ctxt","imgs","setImgs","get","str","ipt","document","createElement","body","appendChild","select","execCommand","removeChild","showToast","copy","getArticleList","a","getTagsList","getCtgList","routes","path","cmp","Main","Catagory","Tags","Write","component","exact","from","Toast","timer","show","msg","bind","clearTimeout","this","setState","stopTimer","ReactDOM","createPortal","Component","Boolean","window","hostname","match","initalState","createStore","sorted","sort","b","applyMiddleware","thunk","isLeapYear","con","globalData","render","store","Provider","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.f330d90b.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const context = createContext<any>({})\n","import React, { useContext, useMemo, useEffect } from 'react'\nimport { context } from '@/context'\nimport './index.less'\n\nexport default function (props: any) {\n  const data: any = useContext(context)\n\n  const img = useMemo(() => {\n    let image = props.info.img\n    return image ? image : `${data.host}/files/download?name=1.jpg`\n  }, [data.host, props.info.img])\n\n  return <div className=\"article-wrap card-bg\">\n    <img src={img} alt=\"\" />\n    <div className=\"content-wrap\">\n      <div className=\"notice mb-7\">\n        <span>1天前</span>\n        <span>{props.info.category && props.info.category.category_name}</span>\n      </div>\n      <h1 className=\"title link\">\n        {props.info.title}\n      </h1>\n      <div className=\"abstract\">\n\n      </div>\n    </div>\n  </div>\n}","import React from 'react'\nimport Article from '@c/Article'\n\nexport default function Aricles(props: any) {\n  return <>\n    {\n      props.list.map((t: any) => {\n        return <Article info={t} key={t.id} />\n      })\n    }\n  </>\n}\n","import React, { useContext } from 'react'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport './index.less'\nimport dayjs from 'dayjs'\n\nfunction Card(props: any) {\n  const data: any = useContext(context)\n  let x = dayjs()\n  let y = dayjs(1598195948672)\n\n  console.log('dayjs', dayjs.duration(x.diff(y)))\n\n  return <div className=\"card-content card-bg\">\n    <img src={`${data.host}/files/download?name=1.jpg`} alt=\"\" />\n    <span className=\"name\" onClick={() => { props.add() }}>凉城{props.count}</span>\n    <span onClick={() => { props.asyncAdd() }}>不负初心，方得始终</span>\n    <nav className=\"level\">\n      <div className=\"level-item\">\n        <p className=\"heading\">\n          文章\n      </p>\n        <p className=\"title\">\n          {props.articleCount}\n        </p>\n      </div>\n      <div className=\"level-item\">\n        <p className=\"heading\">\n          分类\n        </p>\n        <p className=\"title\">\n          {props.ctgCount}\n        </p>\n      </div>\n      <div className=\"level-item\">\n        <p className=\"heading\">\n          标签\n        </p>\n        <p className=\"title\">\n          {props.tagsCount}\n        </p>\n      </div>\n\n    </nav>\n  </div>\n}\n\nexport default connect(state => ({ ...state }), {\n  add() {\n    return {\n      type: 'ADD'\n    }\n  },\n  asyncAdd() {\n    return function (dispatch: Function, getState: any) {\n      setTimeout(() => {\n        dispatch({ type: 'ADD' })\n      }, 2000)\n    }\n  }\n})(Card)","import React, { useContext, useState, useEffect, useCallback } from 'react'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport dayjs from 'dayjs'\nimport './index.less'\n\nfunction ArticleList(props: any) {\n  const data: any = useContext(context)\n\n  const [list, setList] = useState<any[]>([])\n\n  const format = useCallback((n: string | number) => {\n    n = +n\n    return dayjs(n).format('YYYY-MM-DD HH:mm:ss')\n  }, [])\n\n  useEffect(() => {\n    setList(props.sortedArticle)\n  }, [props.sortedArticle])\n\n  return <div className=\"list-wrap card-bg\">\n    <div className=\"notice mb-10\">\n      最新文章\n    </div>\n    <div>\n      {\n        list.map(t => <div className=\"item-wrap\" key={t.id}>\n          <img src={t.img || `${data.host}/files/download?name=1.jpg`} alt={t.title} />\n          <div className=\"item-right\">\n            <div className=\"date notice\">{format(t.time)}</div>\n            <div className=\"title link\">{t.title}</div>\n            <div className=\"tag-wrap\">\n              {\n                t.tags.map((t: any, ind: number) => <div className=\"tag notice\" key={ind}>\n                  {t.tag_name}\n                </div>)\n              }\n            </div>\n          </div>\n        </div>)\n      }\n    </div>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(ArticleList)","import React, { useMemo } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport './index.less'\n\nfunction CtgList(props: any) {\n\n  const list = useMemo(() => {\n    let { ctgList } = props\n    if (props.noLimit) {\n      return ctgList\n    }\n    return ctgList.slice(0, 7)\n  }, [props])\n\n  const inCtg = useMemo(() => {\n    return props.location.pathname === '/catagory'\n  }, [props.location.pathname])\n\n  function jump() {\n    if (!inCtg) {\n      props.history.push('/catagory')\n    }\n  }\n\n  return <div className=\"ctg-wrap card-bg\">\n    <div className=\"notice mb-10 card-head\">\n      <span>分类</span><a onClick={jump} style={{ visibility: inCtg ? 'hidden' : 'visible' }}>查看更多</a>\n    </div>\n    <ul>\n      {\n        list.map((t: any) => <li className=\"item-wrap\" key={t.id}>\n          <span>{t.category_name}</span>\n          <span>{t.count}</span>\n        </li>)\n      }\n    </ul>\n  </div>\n}\n\nexport default connect((state, props) => ({ ...state, ...props }))(withRouter(CtgList))","import React, { useMemo } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport './index.less'\n\nfunction TagList(props: any) {\n\n  const inTags = useMemo(() => {\n    return props.location.pathname === '/tags'\n  }, [props.location.pathname])\n\n  function jump() {\n    if (!inTags) {\n      props.history.push('/tags')\n    }\n  }\n\n  return <div className=\"tag-wrap card-bg\">\n    <div className=\"notice mb-10 card-head\">\n      <span>标签</span>\n      <a onClick={jump} style={{ visibility: inTags ? 'hidden' : 'visible' }}>查看更多</a>\n    </div>\n    <ul>\n      {\n        props.tagsList.map((t: any) => <li className=\"item-wrap\" key={t.id}>\n          <a>{t.tag_name}</a>\n        </li>)\n      }\n    </ul>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(TagList))","import React from 'react'\nimport { connect } from 'react-redux'\nimport Card from '@c/Card'\nimport ArticleList from '@c/ArticleList'\nimport CtgList from '@/components/CtgList'\nimport TagList from '@/components/TagList'\n\nfunction Layout(props: any) {\n  return <div className='app main-wrapp'>\n    <div className=\"flex-left\">\n      <Card />\n      <CtgList />\n      <TagList />\n    </div>\n    <div className=\"flex-center\">\n      {\n        React.Children.map(props.children, (child: any) => <>{child}</>)\n      }\n    </div>\n    <div className=\"flex-right\">\n      <ArticleList />\n    </div>\n\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(Layout)","import React from 'react'\nimport { connect } from 'react-redux'\nimport Articles from '@c/Articles'\nimport Layout from '@c/Layout'\n\nfunction Main(props: any) {\n  return <Layout>\n    <Articles list={props.articleList} />\n  </Layout>\n}\n\nexport default connect(state => ({ ...state }))(Main)","import React, { ReactChild, useState } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport './Head.less'\n\nexport default function (props: { children: ReactChild }) {\n  let links = [{\n    text: '主页',\n    url: '/index'\n  },\n  {\n    text: '分类',\n    url: '/catagory'\n  },\n  {\n    text: '标签',\n    url: '/tags'\n  }\n  ]\n\n  if (process.env.NODE_ENV === 'development') {\n    links.push({\n      text: '写文章',\n      url: '/write'\n    }, {\n      text: '图库',\n      url: '/pic'\n    })\n  }\n\n  return <nav className=\"app-header\">\n    <div className=\"app app-inner-header\">\n      {\n        React.Children.map(props.children, child => {\n          return <div>{child}</div>\n        })\n      }\n      <div className=\"links\">\n        {\n          links.map(({ url, text }, ind) => {\n            return <NavLink to={url} key={ind} activeClassName=\"active\">{text}</NavLink>\n          })\n        }\n      </div>\n    </div>\n  </nav>\n}","import React from 'react'\nimport Layout from '@c/Layout'\nimport CtgList from '@c/CtgList'\n\nexport default function () {\n  return <Layout>\n    <CtgList />\n  </Layout>\n}","import React from 'react'\nimport Layout from '@c/Layout'\nimport { connect } from 'react-redux'\n\nfunction Tags(props: any) {\n  return <Layout>\n    <div className=\"ctg-wrap card-bg\">\n      <div className=\"notice mb-10\">\n        标签\n      </div>\n      <ul>\n        {\n          props.tagsList.map((t: any) => <li className=\"item-wrap\" key={t.id}>\n            <span>{t.tag_name}</span>\n            <span>{t.tag_name.length}</span>\n          </li>)\n        }\n      </ul>\n    </div>\n  </Layout>\n}\n\nexport default connect(state => ({ ...state }))(Tags)","import React, { useState, useReducer, useEffect, useCallback, useRef, useContext } from 'react'\nimport { Button, Input, Select, Tag } from 'antd'\nimport axios from 'axios'\nimport './Write.less'\nimport MarkDown from 'react-markdown'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\n\nconst { Option } = Select\n\nconst { TextArea } = Input\n\ninterface Act {\n  type: string;\n  val?: any\n}\n\nconst initalSate = { title: '', content: '', tags: [], img: '', ctg: {} }\n\nfunction reducer(state: any, action: Act) {\n  let { tags } = state\n  const { val } = action\n  switch (action.type) {\n    case 'changeTitle':\n      return { ...state, title: val }\n    case 'changeContent':\n      return { ...state, content: val }\n    case 'ADD_TAG':\n      tags.every((t: any) => t.id !== val.id) && tags.push(val)\n      return {\n        ...state,\n        tags: [...tags]\n      }\n    case 'REMOVE_TAG':\n      tags = tags.filter((t: any) => t.id !== val)\n      return {\n        ...state,\n        tags: [...tags]\n      }\n    case 'CHANGE_IMG':\n      return {\n        ...state,\n        img: val\n      }\n    case 'GET_CTG':\n      return {\n        ...state,\n        ctg: val\n      }\n    case 'REMOVE_CTG':\n      return {\n        ...state,\n        ctg: ''\n      }\n    default:\n      return state\n  }\n}\n\nfunction Write(props: any) {\n\n  const [state, dispatch] = useReducer(reducer, initalSate)\n  const [tag, setTag] = useState('')\n  const [ctg, setCtg] = useState('')\n  const [img, setImg] = useState('')\n  const data = useContext(context)\n  const imgRef = useRef(null)\n\n  function change(e: any, type = 'changeTitle') {\n    dispatch({\n      type,\n      val: e.target.value\n    })\n  }\n\n\n\n  function uploadImg() {\n    const imgDom = imgRef.current as unknown\n    const images: any = (imgDom as HTMLInputElement).files\n    const fd = new FormData()\n    fd.append('image', images[0])\n    fd.append('msg', 'abcd')\n    axios(\n      {\n        url: `${data.host}/upload`,\n        method: 'post',\n        data: fd\n      }\n    ).then(res => {\n      console.log(res)\n      const url = data.host + res.data.data\n      dispatch({\n        type: 'CHANGE_IMG',\n        val: url\n      })\n    })\n  }\n\n  function addTag(type = 'tags') {\n    if ((type === 'tags' && !tag) || (type === 'category' && !ctg)) return\n    const url = `${data.host}/${type}/add`\n    const fd = new FormData()\n    if (type === 'tags') fd.append('name', tag)\n    if (type === 'category') fd.append('name', ctg)\n    axios({\n      url,\n      method: 'post',\n      data: fd\n    }).then(({ data }) => {\n      console.log(data)\n      if (type === 'tags') {\n        props.add_tag(data)\n      }\n      if (type === 'category') {\n        props.add_ctg(data)\n      }\n    })\n  }\n\n  function upload() {\n    if (!state.title || !state.content) {\n\n      return\n    }\n    const url = `${data.host}/articles/send`\n    const fd = new FormData()\n    fd.append('title', state.title)\n    fd.append('content', state.content)\n    const tagId = state.tags.map((t: any) => t.id)\n    fd.append('tag_id', tagId.join())\n    fd.append('img', state.img)\n    fd.append('category', state.ctg.id)\n    axios({\n      url,\n      method: 'post',\n      data: fd\n    }).then(res => {\n      console.log(res)\n    })\n  }\n\n  const onChange = useCallback((value) => {\n    let tag_name = value.split('$_$')[0]\n    const id = value.split('$_$')[1]\n    dispatch({\n      type: 'ADD_TAG',\n      val: {\n        tag_name,\n        id\n      }\n    })\n  }, [])\n\n  const onChange1 = useCallback((value) => {\n    let tag_name = value.split('$_$')[0]\n    dispatch({\n      type: 'GET_CTG',\n      val: {\n        name: tag_name,\n        id: value.split('$_$')[1]\n      }\n    })\n  }, [])\n\n  function closeTag(id: number) {\n    dispatch({\n      type: 'REMOVE_TAG',\n      val: id\n    })\n  }\n\n  function closeCtg() {\n    dispatch({\n      type: 'REMOVE_CTG',\n    })\n  }\n\n  const onBlur = useCallback(() => {\n    console.log('blur')\n  }, [])\n\n  const onSearch = useCallback((val) => {\n    console.log('search', val)\n  }, [])\n\n  return <div className=\"write-wrap\">\n    <div className=\"flex\">\n      <Input value={state.title} onChange={(e) => change(e)} placeholder='文章标题' />\n      <Button type=\"primary\" onClick={upload}>上传文章</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={tag} onChange={(e) => { setTag(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => { addTag() }}>新增标签</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={ctg} onChange={(e) => { setCtg(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => { addTag('category') }}>新增分类</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"file\" ref={imgRef} />\n      <Button type=\"primary\" onClick={uploadImg}>上传图片</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={img} onChange={(e) => { setImg(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => {\n        dispatch({\n          type: 'CHANGE_IMG',\n          val: img\n        })\n      }}>使用已有图片</Button>\n    </div>\n    <img src={state.img} alt=\"封面图片\" style={{ height: state.img ? '100px' : '0px', width: 'auto', visibility: state.img ? 'visible' : 'hidden', display: 'block' }} />\n    <Select\n      showSearch\n      style={{ width: 200 }}\n      placeholder=\"Select a tag\"\n      optionFilterProp=\"children\"\n      onChange={onChange}\n      onBlur={onBlur}\n      onSearch={onSearch}\n      filterOption={(input, option) =>\n        (option as any).children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n      }\n    >\n      {\n        props.tagsList.map((t: any) => <Option value={`${t.tag_name}$_$${t.id}`} key={t.id}>{t.tag_name}</Option>)\n      }\n    </Select>\n    {\n      state.tags.map((t: any) => <Tag color=\"#2db7f5\" key={t.id} closable onClose={() => { closeTag(t.id) }}>\n        {t.tag_name}\n      </Tag>)\n    }\n    <br />\n    <Select\n      showSearch\n      style={{ width: 200 }}\n      placeholder=\"Select a 分类\"\n      optionFilterProp=\"children\"\n      onChange={onChange1}\n      onBlur={onBlur}\n      onSearch={onSearch}\n      filterOption={(input, option) =>\n        (option as any).children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n      }\n    >\n      {\n        props.ctgList.map((t: any) => <Option value={`${t.category_name}$_$${t.id}`} key={t.id}>{t.category_name}</Option>)\n      }\n    </Select>\n    {\n      state.ctg.name ?\n        <Tag color=\"#2db7f5\" closable onClose={() => { closeCtg() }}>\n          {state.ctg.name}\n        </Tag> : ''\n    }\n    <br />\n    <div className=\"flex content\">\n      <div className=\"inner-content\">\n        <TextArea value={state.content} onChange={(e) => change(e, 'changeContent')} placeholder='文章内容' />\n      </div>\n      <div className=\"inner-content\">\n        <MarkDown source={state.content} />\n      </div>\n    </div>\n\n  </div>\n}\n\nexport default connect(state => ({ ...state }), {\n  add_tag(val: any) {\n    return { type: 'ADD_TAG', val }\n  },\n  add_ctg(val: any) {\n    return { type: 'ADD_CTG', val }\n  }\n})(Write)","import React, { useState, useEffect, useContext } from 'react'\nimport { context } from '@/context'\nimport axios from 'axios'\nimport './index.less'\n\nexport default function Gallary() {\n  const ctxt = useContext(context)\n  const [imgs, setImgs] = useState([])\n  useEffect(() => {\n    axios.get(`${ctxt.host}/files/ls`).then(({ data }) => {\n      setImgs(data.list.map((t: any) => ctxt.host + t.name))\n    })\n  }, [ctxt.host])\n\n  function copy(str: string) {\n    const ipt = document.createElement('input')\n    ipt.value = str\n    document.body.appendChild(ipt)\n    ipt.select()\n    document.execCommand('copy')\n    document.body.removeChild(ipt)\n    ctxt.showToast('拷贝图片地址成功')\n  }\n\n  return <div className=\"gallary-wrap\">\n    <h1>图库</h1>\n    <div className=\"inner-wrap\">\n      {\n        imgs.map((t: string, ind: number) => <div key={ind} className=\"img-wrap\">\n          <img src={t} alt={t} />\n          <br />\n          <span onClick={() => { copy(t) }}>{t}</span>\n        </div>)\n      }\n    </div>\n  </div>\n}","import React, { useContext, useEffect, useMemo } from 'react';\nimport Main from '@c/main/Main'\nimport Head from '@c/Head/Head'\nimport Catagory from '@c/category/index'\nimport Tags from '@c/tags/index'\nimport Write from '@c/write/Write'\nimport Gallary from '@c/gallary'\nimport { HashRouter, Route, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport { context } from '@/context'\nimport './App.less';\nimport '@/Main.less'\n\nfunction App(props: any) {\n  const ctxt = useContext(context)\n  const routes = useMemo(() => {\n    return [\n      { path: '/index', cmp: Main },\n      { path: '/catagory', cmp: Catagory },\n      { path: '/tags', cmp: Tags },\n      { path: '/write', cmp: Write },\n      { path: '/pic', cmp: Gallary }\n    ]\n  }, [])\n\n  useEffect(() => {\n    props.getArticleList(ctxt.host)\n    props.getTagsList(ctxt.host)\n    props.getCtgList(ctxt.host)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <HashRouter>\n      <Head>\n        <span></span>\n      </Head>\n      <div className='app'>\n        {\n          routes.map((t: any, ind: number) => <Route path={t.path} component={t.cmp} key={ind} />)\n        }\n        <Redirect exact from='/' to='/index' />\n      </div>\n    </HashRouter>\n  );\n}\n\nexport default connect(\n  (state) => ({ ...state }),\n  {\n    getArticleList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/articles`)\n        dispatch({\n          type: 'GET_ARTICLE_LIST',\n          val: data\n        })\n      }\n    },\n    getTagsList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/tags`)\n        dispatch({\n          type: 'GET_TAGS_LIST',\n          val: data\n        })\n      }\n    },\n    getCtgList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/category/count`)\n        dispatch({\n          type: 'GET_CTG_LIST',\n          val: data\n        })\n      }\n    }\n  }\n)(App);\n","import { clear } from 'console';\nimport React, { useState, useEffect, useRef } from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.less'\n\n//  function (props: any) {\n//   let timer = useRef<any>(null)\n\n//   const [show, setShow] = useState(props.show)\n//   console.log('props.show', props.show)\n//   useEffect(() => {\n//     console.log('show', show)\n//     if (show) {\n//       timer.current = setTimeout(() => {\n//         setShow(false)\n//       }, 2000)\n//     }\n//   }, [show])\n\n//   useEffect(() => {\n//     clearTimeout(timer.current)\n//     timer.current = setTimeout(() => {\n//       setShow(false)\n//     }, 2000)\n//   }, [props.msg])\n\n//   return ReactDOM.createPortal(<div\n//     className=\"toast\" style={{ display: show ? 'block' : 'none' }}\n//   >\n//     {props.msg}\n//   </div>, document.body)\n// }\n\nexport default class Toast extends React.Component<any, any> {\n\n  private timer: any = null\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      show: false,\n      msg: ''\n    }\n    // @ts-ignore \n    Toast.showToast = this.show.bind(this)\n  }\n\n  public show(msg: string) {\n    clearTimeout(this.timer)\n\n    this.setState({\n      show: true,\n      msg\n    }, () => {\n      this.stopTimer()\n    })\n  }\n\n  private stopTimer() {\n    this.timer = setTimeout(() => {\n      this.setState({\n        show: false\n      })\n    }, 2000)\n  }\n\n  render() {\n    return ReactDOM.createPortal(<div\n      className=\"toast\" style={{ display: this.state.show ? 'block' : 'none' }}\n    >\n      {this.state.msg}\n    </div>, document.body)\n  }\n}\n\n/**\n * {\n      React.Children.map(props.children, child => <div>\n          {child}\n        </div>)\n    }\n */","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\ninterface Act {\n  type: string;\n  val?: any\n}\n\nconst initalState: any = {\n  count: 1,\n  articleCount: 0,\n  tagsCount: 0,\n  ctgCount: 0,\n  articleList: [],\n  tagsList: [],\n  sortedArticle: [],\n  ctgList: []\n}\n\nfunction reducer(state = initalState, action: Act) {\n  let { type, val } = action\n  let { tagsList, ctgList } = state\n  switch (type) {\n    case 'ADD':\n      return {\n        ...state,\n        count: state.count + 1\n      };\n    case 'GET_ARTICLE_LIST':\n      let sorted = val.list.sort((b: any, a: any) => a.time - b.time).slice(0, 5)\n      return {\n        ...state,\n        articleCount: val.count,\n        articleList: val.list,\n        sortedArticle: sorted,\n      }\n    case 'GET_TAGS_LIST':\n      return {\n        ...state,\n        tagsCount: val.count,\n        tagsList: val.list\n      }\n    case 'ADD_TAG':\n      tagsList.push(val)\n      console.log({ tagsList })\n      return {\n        ...state,\n        tagsList: [...tagsList]\n      }\n    case 'GET_CTG_LIST':\n      return {\n        ...state,\n        ctgCount: val.count,\n        ctgList: val.list\n      }\n    case 'ADD_CTG':\n      ctgList.push(val)\n      console.log({ ctgList })\n      return {\n        ...state,\n        ctgList: [...ctgList]\n      }\n    default:\n      return state\n  }\n}\n\nexport default createStore(reducer, applyMiddleware(thunk))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Toast from '@c/toast'\nimport * as serviceWorker from './serviceWorker';\nimport { context } from './context'\nimport * as dayjs from 'dayjs'\nimport isLeapYear from 'dayjs/plugin/isLeapYear' // 导入插件\nimport 'dayjs/locale/zh-cn' // 导入本地化语言\nimport duration from 'dayjs/plugin/duration'\nimport { Provider } from 'react-redux'\nimport store from '@/common/global/store'\n\ndayjs.extend(duration)\n\ndayjs.extend(isLeapYear) // 使用插件\ndayjs.locale('zh-cn') // 使用本地化语言\n\nconst con = document.createElement('div')\ncon.id = 'cmp-container'\ndocument.body.appendChild(con)\n\nconst host = process.env.NODE_ENV === 'development' ? 'http://localhost:8090' : 'http://39.96.31.138'\nconst globalData = {\n  host,\n  dayjs,\n  showToast(msg: string) {\n    const cmp: any = Toast\n    cmp.showToast(msg)\n  }\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <context.Provider value={globalData} >\n      <App />\n    </context.Provider>\n    <Toast />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}