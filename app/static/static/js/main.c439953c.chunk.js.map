{"version":3,"sources":["context.ts","components/Article/index.tsx","common/hooks/useAxios.ts","common/hooks/useGetParam.ts","common/hooks/useGetCtxt.ts","components/Articles/index.tsx","components/Card/index.tsx","components/ArticleList/index.tsx","components/CtgList/index.tsx","components/TagList/index.tsx","components/Layout/index.tsx","components/main/Main.tsx","components/Head/Head.tsx","components/category/index.tsx","components/tags/index.tsx","components/write/Write.tsx","components/gallary/index.tsx","components/ArticleInfo/index.tsx","App.tsx","components/toast/index.tsx","serviceWorker.ts","common/global/store.ts","index.tsx"],"names":["context","createContext","withRouter","props","data","useContext","img","useMemo","image","info","host","cata","category","useCallback","url","id","axios","get","then","res","console","log","className","src","alt","onClick","jump","category_name","title","useAxios","initState","useState","setInfo","useEffect","cancel","cancelToken","CancelToken","c","key","match","params","Aricles","setUrl","list","count","map","t","defaultPageSize","onChange","page","defaultCurrent","total","connect","state","x","dayjs","y","duration","diff","articleCount","ctgCount","tagsCount","setList","format","n","sortedArticle","time","tags","ind","tag_name","useGetParam","ctxt","useGetCtxt","ctgList","noLimit","slice","inCtg","location","pathname","history","push","curCategory","filter","card","e","preventDefault","href","style","visibility","inTags","tagsList","inArticle","startsWith","width","React","Children","children","child","text","to","activeClassName","curTag","tagList","articles","length","Option","TextArea","initalSate","content","ctg","reducer","action","val","type","every","add_tag","add_ctg","tag","setTag","setCtg","setImg","imgRef","useRef","useReducer","dispatch","change","target","value","addTag","fd","FormData","append","method","split","onChange1","name","onBlur","onSearch","placeholder","tagId","join","ref","images","current","files","height","display","showSearch","optionFilterProp","filterOption","input","option","toLowerCase","indexOf","color","closable","onClose","closeTag","source","Gallary","imgs","setImgs","str","ipt","document","createElement","body","appendChild","select","execCommand","removeChild","showToast","copy","ArticleInfo","showTitle","trim","getArticleList","a","getTagsList","getCtgList","routes","path","cmp","Main","Catagory","Tags","Write","component","exact","from","Toast","timer","show","msg","bind","clearTimeout","this","setState","stopTimer","setTimeout","ReactDOM","createPortal","Component","Boolean","window","hostname","initalState","articleList","createStore","sorted","sort","b","applyMiddleware","thunk","isLeapYear","con","globalData","render","store","Provider","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.c439953c.chunk.js","sourcesContent":["import { createContext } from 'react'\n\nexport const context = createContext<any>({})\n","import React, { useContext, useMemo, useCallback } from 'react'\nimport { context } from '@/context'\nimport { withRouter } from 'react-router-dom'\nimport axios from 'axios'\nimport './index.less'\n\nfunction Article(props: any) {\n  const data: any = useContext(context)\n  const isDev: boolean = process.env.NODE_ENV === 'development'\n  const img = useMemo(() => {\n    let image = props.info.img\n    return image ? image : `${data.host}/files/download?name=1.jpg`\n  }, [data.host, props.info.img])\n\n  const cata = useMemo(() => {\n    return props.info.category\n  }, [props.info])\n\n  const delAction = useCallback(\n    () => {\n      const url = `${data.host}/articles/delete/${props.info.id}`\n      axios.get(url).then((res) => {\n        console.log(res.data)\n      })\n    },\n    [data.host, props.info.id],\n  )\n\n  return <div className=\"article-wrap card-bg\">\n    <img src={img} alt=\"\" />\n    <div className=\"content-wrap\">\n      <div className=\"notice mb-7\">\n        <span>1天前</span>\n        <span onClick={() => { data.jump(props, cata && cata.id, 'catagory') }} className=\"link\">{cata && cata.category_name}</span>\n        {\n          isDev ? \n          <>\n            <span className=\"link\" onClick={() => {data.jump(props, props.info.id, 'write')}}>编辑{props.info.id}</span>\n            <span className=\"link\" onClick={() => {delAction()}}>删除</span>\n          </>\n          :''\n        }\n        \n      </div>\n      <h1 className=\"title link\" onClick={() => { data.jump(props, props.info.id) }}>\n        {props.info.title}\n      </h1>\n    </div>\n  </div>\n}\n\nexport default withRouter(Article)","import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nexport default function useAxios(url: string, initState: any = {}) {\n  const [info, setInfo] = useState(initState)\n  useEffect(() => {\n    let cancel: any = null\n    axios.get(url, {\n      cancelToken: new axios.CancelToken(c => {\n        cancel = c\n      })\n    }).then((res: any) => {\n      res = res.data\n      setInfo(res)\n    })\n    return () => {\n      cancel()\n    }\n  }, [url])\n\n  return info\n}","import { useMemo } from 'react'\n\nexport default function (props: any, key: string = 'id') {\n  const data = useMemo(() => props.match.params[key], [key, props.match.params])\n  return data\n}","import { useContext } from 'react'\nimport { context } from '@/context'\n\nexport default function () {\n  const ctxt = useContext(context)\n  return ctxt\n}","import React, { useState, useEffect } from 'react'\nimport Article from '@c/Article'\nimport { Pagination } from 'antd'\nimport { useAxios } from '@/common/hooks'\n\nexport default function Aricles(props: any) {\n  const [url, setUrl] = useState<string>(props.url)\n  let { list, count } = useAxios(url, { list: [], count: 0 })\n\n  function onChange(page: number) {\n    setUrl((url: string) => `${url}?page=${page}`)\n  }\n\n  return <>\n    {\n      list.map((t: any) => {\n        return <Article info={t} key={t.id} />\n      })\n    }\n    <div className=\"pag-wraper\">\n      <Pagination\n        defaultPageSize={10}\n        onChange={onChange}\n        defaultCurrent={1}\n        total={count || 11}\n      />\n    </div>\n  </>\n}\n","import React, { useContext } from 'react'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport './index.less'\nimport dayjs from 'dayjs'\n\nfunction Card(props: any) {\n  const data: any = useContext(context)\n  let x = dayjs()\n  let y = dayjs(1598195948672)\n\n  console.log('dayjs', dayjs.duration(x.diff(y)))\n\n  return <div className=\"card-content card-bg\">\n    <img src={`${data.host}/files/download?name=1.jpg`} alt=\"\" />\n    <span className=\"name\">凉城</span>\n    <span>不负初心，方得始终</span>\n    <nav className=\"level\">\n      <div className=\"level-item link\" onClick={() => { data.jump(props, '', 'index') }}>\n        <p className=\"heading\">\n          文章\n        </p>\n        <p className=\"title\">\n          {props.articleCount}\n        </p>\n      </div>\n      <div className=\"level-item link\" onClick={() => { data.jump(props, 0, 'catagory') }}>\n        <p className=\"heading\">\n          分类\n        </p>\n        <p className=\"title\">\n          {props.ctgCount}\n        </p>\n      </div>\n      <div className=\"level-item link\" onClick={() => { data.jump(props, 0, 'tags') }}>\n        <p className=\"heading\">\n          标签\n        </p>\n        <p className=\"title\">\n          {props.tagsCount}\n        </p>\n      </div>\n\n    </nav>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(Card))","import React, { useContext, useState, useEffect, useCallback } from 'react'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport dayjs from 'dayjs'\nimport './index.less'\n\nfunction ArticleList(props: any) {\n  const data: any = useContext(context)\n\n  const [list, setList] = useState<any[]>([])\n\n  const format = useCallback((n: string | number) => {\n    n = +n\n    return dayjs(n).format('YYYY-MM-DD HH:mm:ss')\n  }, [])\n\n  useEffect(() => {\n    setList(props.sortedArticle)\n  }, [props.sortedArticle])\n\n  return <div className=\"list-wrap card-bg\">\n    <div className=\"notice mb-10\">\n      最新文章\n    </div>\n    <div>\n      {\n        list.map(t => <div className=\"item-wrap\" key={t.id}>\n          <img src={t.img || `${data.host}/files/download?name=1.jpg`} alt={t.title} />\n          <div className=\"item-right\">\n            <div className=\"date notice\">{format(t.time)}</div>\n            <div className=\"title link\" onClick={() => { data.jump(props, t.id) }}>{t.title}</div>\n            <div className=\"tag-wrap\">\n              {\n                t.tags.map((t: any, ind: number) =>\n                  <div className=\"tag notice link\" key={ind} onClick={() => { data.jump(props, t.id, 'tags') }}>\n                    {t.tag_name}\n                  </div>)\n              }\n            </div>\n          </div>\n        </div>)\n      }\n    </div>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(ArticleList))","import React, { useMemo } from 'react'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { useGetParam, useAxios, useGetCtxt } from '@/common/hooks'\nimport Articles from '@c/Articles'\nimport './index.less'\n\nfunction CtgList(props: any) {\n  const id = useGetParam(props) || 0\n  const ctxt = useGetCtxt()\n  let { list: articleList, count } = useAxios(`${ctxt.host}/category/articles/${id}`)\n  const list = useMemo(() => {\n    let { ctgList } = props\n    if (props.noLimit) {\n      return ctgList\n    }\n    return ctgList.slice(0, 7)\n  }, [props])\n\n  const inCtg = useMemo(() => {\n    return props.location.pathname === '/catagory/0'\n  }, [props.location.pathname])\n\n  function jump(id: number = 0) {\n    console.log('jump', '/catagory/' + id, props.location.pathname)\n    if (props.location.pathname !== '/catagory/' + id) {\n      props.history.push('/catagory/' + id)\n    }\n  }\n\n  const curCategory = useMemo(() => {\n    const cur = list.filter((t: any) => +t.id === +id)\n    return cur[0] || {}\n  }, [id, list])\n  console.log(props.card, curCategory, props.card || curCategory)\n  return <div className=\"ctg-wrap card-bg\">\n    {\n      props.card || !curCategory.category_name ?\n        <>\n          <div className=\"notice mb-10 card-head\">\n            <span>分类</span><a onClick={(e) => { e.preventDefault(); jump() }} href=\"890\" style={{ visibility: inCtg ? 'hidden' : 'visible' }}>查看更多</a>\n          </div>\n          <ul>\n            {\n              list.map((t: any) => <li className=\"item-wrap\" key={t.id} onClick={() => jump(t.id)}>\n                <span>{t.category_name}</span>\n                <span>{t.count}</span>\n              </li>)\n            }\n          </ul>\n        </>\n        :\n        <>\n          <div>当前位置: <span className=\"link\" onClick={() => { props.history.push('/catagory/0') }}>分类</span> / {curCategory.category_name}</div>\n          <Articles url={`${ctxt.host}/category/articles/${id}`} />\n        </>\n\n    }\n\n  </div>\n}\n\nexport default connect((state, props) => ({ ...state, ...props }))(withRouter(CtgList))","import React, { useMemo } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport './index.less'\n\nfunction TagList(props: any) {\n  const inTags = useMemo(() => {\n    return props.location.pathname === '/tags/0'\n  }, [props.location.pathname])\n\n  function jump(id = 0) {\n    if (props.location.pathname === '/tags/' + id) return\n\n    props.history.push('/tags/' + id)\n  }\n\n  return <div className=\"tag-wrap card-bg\">\n    <div className=\"notice mb-10 card-head\">\n      <span>标签</span>\n      <a onClick={(e) => { e.preventDefault(); jump() }} href=\"123\" style={{ visibility: inTags ? 'hidden' : 'visible' }}>查看更多</a>\n    </div>\n    <ul>\n      {\n        props.tagsList.map((t: any) => <li className=\"item-wrap\" key={t.id}>\n          <a onClick={(e) => { e.preventDefault(); jump(t.id) }} href=\"123\">{t.tag_name}</a>\n        </li>)\n      }\n    </ul>\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(TagList))","import React, {useMemo} from 'react'\nimport { connect } from 'react-redux'\nimport Card from '@c/Card'\nimport ArticleList from '@c/ArticleList'\nimport CtgList from '@/components/CtgList'\nimport TagList from '@/components/TagList'\nimport { withRouter } from 'react-router-dom'\n\nfunction Layout(props: any) {\n  const inArticle = useMemo(() => {\n    return props.location.pathname.startsWith('/article/')\n  }, [props.location.pathname])\n  return <div className='app main-wrapp'>\n    <div className=\"flex-left\">\n      <Card />\n      <CtgList card={true} />\n      <TagList />\n    </div>\n    <div className=\"flex-center\" style={{width: inArticle ? '75%' : '50%'}}>\n      {\n        React.Children.map(props.children, (child: any) => <>{child}</>)\n      }\n    </div>\n    {\n      inArticle ? '' :\n      <div className=\"flex-right\">\n        <ArticleList />\n      </div>\n    }\n  </div>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(Layout))","import React from 'react'\nimport { connect } from 'react-redux'\nimport Articles from '@c/Articles'\nimport Layout from '@c/Layout'\nimport { useGetCtxt } from '@/common/hooks'\n\nfunction Main() {\n  const ctxt = useGetCtxt()\n\n  return <Layout>\n    <Articles url={`${ctxt.host}/articles/list`} />\n  </Layout>\n}\n\nexport default connect(state => ({ ...state }))(Main)","import React, { ReactChild, useState } from 'react'\nimport { NavLink } from 'react-router-dom'\nimport './Head.less'\n\nexport default function (props: { children: ReactChild }) {\n  let links = [{\n    text: '主页',\n    url: '/index'\n  },\n  {\n    text: '分类',\n    url: '/catagory/0'\n  },\n  {\n    text: '标签',\n    url: '/tags/0'\n  }\n  ]\n\n  if (process.env.NODE_ENV === 'development') {\n    links.push({\n      text: '写文章',\n      url: '/write/0'\n    }, {\n      text: '图库',\n      url: '/pic'\n    })\n  }\n\n  return <nav className=\"app-header\">\n    <div className=\"app app-inner-header\">\n      {\n        React.Children.map(props.children, child => {\n          return <div>{child}</div>\n        })\n      }\n      <div className=\"links\">\n        {\n          links.map(({ url, text }, ind) => {\n            return <NavLink to={url} key={ind} activeClassName=\"active\">{text}</NavLink>\n          })\n        }\n      </div>\n    </div>\n  </nav>\n}","import React from 'react'\nimport Layout from '@c/Layout'\nimport CtgList from '@c/CtgList'\nimport { connect } from 'react-redux'\n\nfunction Category(props: any) {\n\n  return <Layout>\n    <CtgList />\n  </Layout>\n}\n\nexport default connect((state, props) => ({ ...state, ...props }))(Category)","import React, { useMemo } from 'react'\nimport Layout from '@c/Layout'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\nimport { useGetParam, useAxios, useGetCtxt } from '@/common/hooks'\nimport Articles from '@c/Articles'\n\nfunction Tags(props: any) {\n  const id = useGetParam(props) || 0\n  const ctxt = useGetCtxt()\n  let { list, count } = useAxios(`${ctxt.host}/tags/articles/${id}`)\n  function jump(id = 0) {\n    if (props.location.pathname === '/tags/' + id) return\n\n    props.history.push('/tags/' + id)\n  }\n\n  const curTag = useMemo(() => {\n    console.log({tagList: props.tagsList})\n    let tag = props.tagsList.filter((t: any) => +t.id === +id)\n    return tag[0]\n  }, [id, props.tagsList])\n  console.log(curTag, props.tagsList)\n\n  return <Layout>\n    <div className=\"ctg-wrap card-bg\">\n      {\n        curTag ?\n          <div>当前位置: <span className=\"link\" onClick={() => { props.history.push('/tags/0') }}>标签</span> / {curTag.tag_name}</div>\n          :\n          <>\n            <div className=\"notice mb-10\">\n              标签\n            </div>\n            <ul>\n              {\n                props.tagsList.map((t: any) => <li className=\"item-wrap\"\n                  key={t.id} onClick={() => { jump(t.id) }}\n                >\n                  <span>{t.tag_name}</span>\n                  <span>{t.articles.length}</span>\n                </li>)\n              }\n            </ul>\n          </>\n      }\n\n      {\n        id && list && list.length ? <Articles url={`${ctxt.host}/tags/articles/${id}`} /> : ''\n      }\n    </div>\n  </Layout>\n}\n\nexport default connect(state => ({ ...state }))(withRouter(Tags))","import React, { useState, useReducer, useCallback, useRef, useContext, useMemo } from 'react'\nimport { Button, Input, Select, Tag } from 'antd'\nimport axios from 'axios'\nimport './Write.less'\nimport { useAxios, useGetCtxt } from '@/common/hooks'\nimport MarkDown from 'react-markdown'\nimport { context } from '@/context'\nimport { connect } from 'react-redux'\nimport { withRouter } from 'react-router-dom'\n\nconst { Option } = Select\n\nconst { TextArea } = Input\n\ninterface Act {\n  type: string;\n  val?: any\n}\n\nconst initalSate = { title: '', content: '', tags: [], img: '', ctg: {} }\n\nfunction reducer(state: any, action: Act) {\n  let { tags } = state\n  const { val } = action\n  switch (action.type) {\n    case 'changeTitle':\n      return { ...state, title: val }\n    case 'changeContent':\n      return { ...state, content: val }\n    case 'ADD_TAG':\n      tags.every((t: any) => t.id !== val.id) && tags.push(val)\n      return {\n        ...state,\n        tags: [...tags]\n      }\n    case 'REMOVE_TAG':\n      tags = tags.filter((t: any) => t.id !== val)\n      return {\n        ...state,\n        tags: [...tags]\n      }\n    case 'CHANGE_IMG':\n      return {\n        ...state,\n        img: val\n      }\n    case 'GET_CTG':\n      return {\n        ...state,\n        ctg: val\n      }\n    case 'REMOVE_CTG':\n      return {\n        ...state,\n        ctg: ''\n      }\n    default:\n      return state\n  }\n}\n\nfunction Write(props: any) {\n\n  const [tag, setTag] = useState('')\n  const [ctg, setCtg] = useState('')\n  const [img, setImg] = useState('')\n  const data = useContext(context)\n  const imgRef = useRef(null)\n\n  const ctxt = useGetCtxt()\n  const id = useMemo(() => props.match.params.id, [props.match.params.id])\n  console.log('params', props.match.params)\n  let info = useAxios(`${ctxt.host}/articles/${id}`, { content: '', title: '', time: 0, tags: [], category: {} })\n\n  const [state, dispatch] = useReducer(reducer, initalSate)\n  \n  function change(e: any, type = 'changeTitle') {\n    dispatch({\n      type,\n      val: e.target.value\n    })\n  }\n\n  function uploadImg() {\n    const imgDom = imgRef.current as unknown\n    const images: any = (imgDom as HTMLInputElement).files\n    if(!images.length) return\n    const fd = new FormData()\n    fd.append('image', images[0])\n    fd.append('msg', 'abcd')\n    axios(\n      {\n        url: `${data.host}/upload`,\n        method: 'post',\n        data: fd\n      }\n    ).then(res => {\n      console.log(res)\n      const url = data.host + res.data.data\n      dispatch({\n        type: 'CHANGE_IMG',\n        val: url\n      })\n    })\n  }\n\n  function addTag(type = 'tags') {\n    if ((type === 'tags' && !tag) || (type === 'category' && !ctg)) return\n    const url = `${data.host}/${type}/add`\n    const fd = new FormData()\n    if (type === 'tags') fd.append('name', tag)\n    if (type === 'category') fd.append('name', ctg)\n    axios({\n      url,\n      method: 'post',\n      data: fd\n    }).then(({ data }) => {\n      console.log(data)\n      if (type === 'tags') {\n        props.add_tag(data)\n      }\n      if (type === 'category') {\n        props.add_ctg(data)\n      }\n    })\n  }\n\n  function upload() {\n    console.log({info})\n    if ((!state.title || !state.content) && (!info.title || !info.content) ) {\n\n      return\n    }\n    \n    const url = info ? `${data.host}/articles/update/${id}` : `${data.host}/articles/send`\n    const fd = new FormData()\n    fd.append('title', state.title || info.title)\n    fd.append('content', state.content || info.content)\n    let tags = state.tags.length ? state.tags : info.tags\n    const tagId = tags.map((t: any) => t.id)\n    fd.append('tag_id', tagId.join())\n    fd.append('img', state.img || info.img)\n    fd.append('category', state.ctg.id || info.category.id)\n    axios({\n      url,\n      method: 'post',\n      data: fd\n    }).then(res => {\n      console.log(res)\n    })\n  }\n\n  const onChange = useCallback((value) => {\n    let tag_name = value.split('$_$')[0]\n    const id = value.split('$_$')[1]\n    dispatch({\n      type: 'ADD_TAG',\n      val: {\n        tag_name,\n        id\n      }\n    })\n  }, [])\n\n  const onChange1 = useCallback((value) => {\n    let tag_name = value.split('$_$')[0]\n    dispatch({\n      type: 'GET_CTG',\n      val: {\n        name: tag_name,\n        id: value.split('$_$')[1]\n      }\n    })\n  }, [])\n\n  function closeTag(id: number) {\n    dispatch({\n      type: 'REMOVE_TAG',\n      val: id\n    })\n  }\n\n  function closeCtg() {\n    dispatch({\n      type: 'REMOVE_CTG',\n    })\n  }\n\n  const onBlur = useCallback(() => {\n    console.log('blur')\n  }, [])\n\n  const onSearch = useCallback((val) => {\n    console.log('search', val)\n  }, [])\n\n  return <div className=\"write-wrap\">\n    <div className=\"flex\">\n      <Input value={state.title || info.title} onChange={(e) => change(e)} placeholder='文章标题' />\n      <Button type=\"primary\" onClick={upload}>{info ? '更新' : '上传'}文章</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={tag} onChange={(e) => { setTag(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => { addTag() }}>新增标签</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={ctg} onChange={(e) => { setCtg(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => { addTag('category') }}>新增分类</Button>\n    </div>\n    <div className=\"flex\">\n      <input type=\"file\" ref={imgRef} />\n      <Button type=\"primary\" onClick={uploadImg}>上传图片</Button>\n    </div>\n    <div className=\"flex\">\n      <Input type=\"text\" value={img} onChange={(e) => { setImg(e.target.value) }} />\n      <Button type=\"primary\" onClick={() => {\n        dispatch({\n          type: 'CHANGE_IMG',\n          val: img\n        })\n      }}>使用已有图片</Button>\n    </div>\n    <img src={state.img || info.img} alt=\"封面图片\" style={{ height: state.img || info.img ? '100px' : '0px', width: 'auto', visibility: state.img || info.img ? 'visible' : 'hidden', display: 'block' }} />\n    <Select\n      showSearch\n      style={{ width: 200 }}\n      placeholder=\"Select a tag\"\n      optionFilterProp=\"children\"\n      onChange={onChange}\n      onBlur={onBlur}\n      onSearch={onSearch}\n      filterOption={(input, option) =>\n        (option as any).children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n      }\n    >\n      {\n        props.tagsList.map((t: any) => <Option value={`${t.tag_name}$_$${t.id}`} key={t.id}>{t.tag_name}</Option>)\n      }\n    </Select>\n    {\n      state.tags.map((t: any) => <Tag color=\"#2db7f5\" key={t.id} closable onClose={() => { closeTag(t.id) }}>\n        {t.tag_name}\n      </Tag>)\n    }\n    <br />\n    <Select\n      showSearch\n      style={{ width: 200 }}\n      placeholder=\"Select a 分类\"\n      optionFilterProp=\"children\"\n      onChange={onChange1}\n      onBlur={onBlur}\n      onSearch={onSearch}\n      filterOption={(input, option) =>\n        (option as any).children.toLowerCase().indexOf(input.toLowerCase()) >= 0\n      }\n    >\n      {\n        props.ctgList.map((t: any) => <Option value={`${t.category_name}$_$${t.id}`} key={t.id}>{t.category_name}</Option>)\n      }\n    </Select>\n    {\n      state.ctg.name ?\n        <Tag color=\"#2db7f5\" closable onClose={() => { closeCtg() }}>\n          {state.ctg.name || (info.category && info.category.category_name)}\n        </Tag> : ''\n    }\n    <br />\n    <div className=\"flex content\">\n      <div className=\"inner-content\">\n        <TextArea value={state.content || info.content} onChange={(e) => change(e, 'changeContent')} placeholder='文章内容' />\n      </div>\n      <div className=\"inner-content\">\n        <MarkDown source={state.content || info.content} />\n      </div>\n    </div>\n\n  </div>\n}\n\nexport default connect(state => ({ ...state }), {\n  add_tag(val: any) {\n    return { type: 'ADD_TAG', val }\n  },\n  add_ctg(val: any) {\n    return { type: 'ADD_CTG', val }\n  }\n})(withRouter(Write))","import React, { useState, useEffect, useContext } from 'react'\nimport { context } from '@/context'\nimport axios from 'axios'\nimport './index.less'\n\nexport default function Gallary() {\n  const ctxt = useContext(context)\n  const [imgs, setImgs] = useState([])\n  useEffect(() => {\n    axios.get(`${ctxt.host}/files/ls`).then(({ data }) => {\n      setImgs(data.list.map((t: any) => ctxt.host + t.name))\n    })\n  }, [ctxt.host])\n\n  function copy(str: string) {\n    const ipt = document.createElement('input')\n    ipt.value = str\n    document.body.appendChild(ipt)\n    ipt.select()\n    document.execCommand('copy')\n    document.body.removeChild(ipt)\n    ctxt.showToast('拷贝图片地址成功')\n  }\n\n  return <div className=\"gallary-wrap\">\n    <h1>图库</h1>\n    <div className=\"inner-wrap\">\n      {\n        imgs.map((t: string, ind: number) => <div key={ind} className=\"img-wrap\">\n          <img src={t} alt={t} />\n          <br />\n          <span onClick={() => { copy(t) }}>{t}</span>\n        </div>)\n      }\n    </div>\n  </div>\n}","import React, { useContext, useMemo } from 'react'\nimport './index.less'\nimport { context } from '@/context'\nimport Layout from '@c/Layout'\nimport axios from 'axios'\nimport MarkDown from 'react-markdown'\nimport useAxios from '@/common/hooks/useAxios'\n\nfunction ArticleInfo(props: any) {\n  const ctxt = useContext(context)\n\n  const id = useMemo(() => props.match.params.id, [props.match.params.id])\n  const info = useAxios(`${ctxt.host}/articles/${id}`, { content: '', title: '', time: 0, tags: [], category: {} })\n\n  const showTitle = useMemo(() => {\n    let { content } = info\n    return !content.trim().match(/^#\\s/)\n  }, [info])\n\n  return <Layout>\n    <div className=\"article-info-wrap card-bg\">\n      <h1 style={{ display: showTitle ? 'block' : 'none' }}>{info.title}</h1>\n      <MarkDown source={info.content} />\n    </div>\n  </Layout>\n}\n\nexport default ArticleInfo\n","import React, { useContext, useEffect, useMemo } from 'react';\nimport Main from '@c/main/Main'\nimport Head from '@c/Head/Head'\nimport Catagory from '@c/category/index'\nimport Tags from '@c/tags/index'\nimport Write from '@c/write/Write'\nimport Gallary from '@c/gallary'\nimport ArticleInfo from '@c/ArticleInfo'\nimport { HashRouter, Route, Redirect } from 'react-router-dom'\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport { context } from '@/context'\nimport './App.less';\nimport '@/Main.less'\n\nfunction App(props: any) {\n  const ctxt = useContext(context)\n  const routes = useMemo(() => {\n    return [\n      { path: '/index', cmp: Main },\n      { path: '/catagory/:id', cmp: Catagory },\n      { path: '/tags/:id', cmp: Tags },\n      { path: '/write/:id', cmp: Write },\n      { path: '/pic', cmp: Gallary },\n      { path: '/article/:id', cmp: ArticleInfo }\n    ]\n  }, [])\n\n  useEffect(() => {\n    props.getArticleList(ctxt.host)\n    props.getTagsList(ctxt.host)\n    props.getCtgList(ctxt.host)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <HashRouter>\n      <Head>\n        <span></span>\n      </Head>\n      <div className='app'>\n        {\n          routes.map((t: any, ind: number) => <Route path={t.path} component={t.cmp} key={ind} />)\n        }\n        <Redirect exact from='/write' to='/write/0' />\n        <Redirect exact from='/' to='/index' />\n        \n      </div>\n    </HashRouter>\n  );\n}\n\nexport default connect(\n  (state) => ({ ...state }),\n  {\n    getArticleList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/articles`)\n        dispatch({\n          type: 'GET_ARTICLE_LIST',\n          val: data\n        })\n      }\n    },\n    getTagsList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/tags`)\n        dispatch({\n          type: 'GET_TAGS_LIST',\n          val: data\n        })\n      }\n    },\n    getCtgList(host: string) {\n      return async function (dispatch: any) {\n        const { data } = await axios.get(`${host}/category/count`)\n        dispatch({\n          type: 'GET_CTG_LIST',\n          val: data\n        })\n      }\n    }\n  }\n)(App);\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport './index.less'\n\n//  function (props: any) {\n//   let timer = useRef<any>(null)\n\n//   const [show, setShow] = useState(props.show)\n//   console.log('props.show', props.show)\n//   useEffect(() => {\n//     console.log('show', show)\n//     if (show) {\n//       timer.current = setTimeout(() => {\n//         setShow(false)\n//       }, 2000)\n//     }\n//   }, [show])\n\n//   useEffect(() => {\n//     clearTimeout(timer.current)\n//     timer.current = setTimeout(() => {\n//       setShow(false)\n//     }, 2000)\n//   }, [props.msg])\n\n//   return ReactDOM.createPortal(<div\n//     className=\"toast\" style={{ display: show ? 'block' : 'none' }}\n//   >\n//     {props.msg}\n//   </div>, document.body)\n// }\n\nexport default class Toast extends React.Component<any, any> {\n\n  private timer: any = null\n  constructor(props: any) {\n    super(props)\n    this.state = {\n      show: false,\n      msg: ''\n    }\n    // @ts-ignore \n    Toast.showToast = this.show.bind(this)\n  }\n\n  public show(msg: string) {\n    clearTimeout(this.timer)\n\n    this.setState({\n      show: true,\n      msg\n    }, () => {\n      this.stopTimer()\n    })\n  }\n\n  private stopTimer() {\n    this.timer = setTimeout(() => {\n      this.setState({\n        show: false\n      })\n    }, 2000)\n  }\n\n  render() {\n    return ReactDOM.createPortal(<div\n      className=\"toast\" style={{ display: this.state.show ? 'block' : 'none' }}\n    >\n      {this.state.msg}\n    </div>, document.body)\n  }\n}\n\n/**\n * {\n      React.Children.map(props.children, child => <div>\n          {child}\n        </div>)\n    }\n */","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\n\ninterface Act {\n  type: string;\n  val?: any\n}\n\nconst initalState: any = {\n  count: 1,\n  articleCount: 0,\n  tagsCount: 0,\n  ctgCount: 0,\n  articleList: [],\n  tagsList: [],\n  sortedArticle: [],\n  ctgList: []\n}\n\nfunction reducer(state = initalState, action: Act) {\n  let { type, val } = action\n  let { tagsList, ctgList } = state\n  switch (type) {\n    case 'ADD':\n      return {\n        ...state,\n        count: state.count + 1\n      };\n    case 'GET_ARTICLE_LIST':\n      let sorted = val.list.sort((b: any, a: any) => a.time - b.time).slice(0, 5)\n      return {\n        ...state,\n        articleCount: val.count,\n        articleList: val.list,\n        sortedArticle: sorted,\n      }\n    case 'GET_TAGS_LIST':\n      return {\n        ...state,\n        tagsCount: val.count,\n        tagsList: val.list\n      }\n    case 'ADD_TAG':\n      tagsList.push(val)\n      console.log({ tagsList })\n      return {\n        ...state,\n        tagsList: [...tagsList]\n      }\n    case 'GET_CTG_LIST':\n      return {\n        ...state,\n        ctgCount: val.count,\n        ctgList: val.list\n      }\n    case 'ADD_CTG':\n      ctgList.push(val)\n      console.log({ ctgList })\n      return {\n        ...state,\n        ctgList: [...ctgList]\n      }\n    default:\n      return state\n  }\n}\n\nexport default createStore(reducer, applyMiddleware(thunk))","import React, { ReactComponentElement, ReactElement, ReactInstance, ReactNode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport Toast from '@c/toast'\nimport * as serviceWorker from './serviceWorker';\nimport { context } from './context'\nimport * as dayjs from 'dayjs'\nimport isLeapYear from 'dayjs/plugin/isLeapYear' // 导入插件\nimport 'dayjs/locale/zh-cn' // 导入本地化语言\nimport duration from 'dayjs/plugin/duration'\nimport { Provider } from 'react-redux'\nimport store from '@/common/global/store'\n\ndayjs.extend(duration)\n\ndayjs.extend(isLeapYear) // 使用插件\ndayjs.locale('zh-cn') // 使用本地化语言\n\nconst con = document.createElement('div')\ncon.id = 'cmp-container'\ndocument.body.appendChild(con)\n\nconst host = process.env.NODE_ENV === 'development' ? 'http://localhost:8090' : 'http://39.96.31.138'\nconst globalData = {\n  host,\n  dayjs,\n  showToast(msg: string) {\n    const cmp: Partial<{ showToast: any } & typeof Toast> = Toast\n    cmp.showToast(msg)\n  },\n  jump(props: any, id: number | string, type: string = 'article') {\n    props.history.push(`/${type}${id !== '' ? '/' + id : ''}`)\n  }\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <context.Provider value={globalData} >\n      <App />\n    </context.Provider>\n    <Toast />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}